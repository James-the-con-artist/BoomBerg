{"ast":null,"code":"var _class;\nimport axios from 'axios';\nclass OpenAIApiSingleton {\n  constructor(apiKey) {\n    this.axiosInstance = void 0;\n    this.apiKey = void 0;\n    this.apiKey = apiKey;\n    this.axiosInstance = axios.create({\n      baseURL: 'https://api.openai.com/v1',\n      headers: {\n        'Authorization': `Bearer ${this.apiKey}`,\n        'Content-Type': 'application/json'\n      }\n    });\n  }\n  static getInstance(apiKey) {\n    if (!OpenAIApiSingleton.instance) {\n      OpenAIApiSingleton.instance = new OpenAIApiSingleton(apiKey);\n    }\n    return OpenAIApiSingleton.instance;\n  }\n  async generateText(prompt) {\n    try {\n      const response = await this.axiosInstance.post('/engines/davinci/completions', {\n        prompt: prompt,\n        max_tokens: 20000\n      });\n      return response.data.choices[0].text;\n    } catch (error) {\n      console.error('Error calling OpenAI API:', error);\n      throw error;\n    }\n  }\n}\n_class = OpenAIApiSingleton;\nOpenAIApiSingleton.instance = void 0;\nexport default OpenAIApiSingleton;","map":{"version":3,"names":["axios","OpenAIApiSingleton","constructor","apiKey","axiosInstance","create","baseURL","headers","getInstance","instance","generateText","prompt","response","post","max_tokens","data","choices","text","error","console","_class"],"sources":["/Users/james/dev/miniHack-23/boomberg/src/classes/OpenAIAPI.ts"],"sourcesContent":["import axios, { AxiosInstance } from 'axios';\n\nclass OpenAIApiSingleton {\n    private static instance: OpenAIApiSingleton;\n    private axiosInstance: AxiosInstance;\n    private apiKey: string;\n\n\n    private constructor(apiKey: string) {\n        this.apiKey = apiKey;\n        this.axiosInstance = axios.create({\n            baseURL: 'https://api.openai.com/v1',\n            headers: {\n                'Authorization': `Bearer ${this.apiKey}`,\n                'Content-Type': 'application/json',\n            },\n        });\n    }\n\n    public static getInstance(apiKey: string): OpenAIApiSingleton {\n        if (!OpenAIApiSingleton.instance) {\n            OpenAIApiSingleton.instance = new OpenAIApiSingleton(apiKey);\n        }\n        return OpenAIApiSingleton.instance;\n    }\n\n    public async generateText(prompt: string): Promise<string> {\n        try {\n            const response = await this.axiosInstance.post('/engines/davinci/completions', {\n                prompt: prompt,\n                max_tokens: 20000\n            });\n\n            return response.data.choices[0].text;\n        } catch (error) {\n            console.error('Error calling OpenAI API:', error);\n            throw error;\n        }\n    }\n}\n\nexport default OpenAIApiSingleton;"],"mappings":";AAAA,OAAOA,KAAK,MAAyB,OAAO;AAE5C,MAAMC,kBAAkB,CAAC;EAMbC,WAAWA,CAACC,MAAc,EAAE;IAAA,KAJ5BC,aAAa;IAAA,KACbD,MAAM;IAIV,IAAI,CAACA,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,aAAa,GAAGJ,KAAK,CAACK,MAAM,CAAC;MAC9BC,OAAO,EAAE,2BAA2B;MACpCC,OAAO,EAAE;QACL,eAAe,EAAG,UAAS,IAAI,CAACJ,MAAO,EAAC;QACxC,cAAc,EAAE;MACpB;IACJ,CAAC,CAAC;EACN;EAEA,OAAcK,WAAWA,CAACL,MAAc,EAAsB;IAC1D,IAAI,CAACF,kBAAkB,CAACQ,QAAQ,EAAE;MAC9BR,kBAAkB,CAACQ,QAAQ,GAAG,IAAIR,kBAAkB,CAACE,MAAM,CAAC;IAChE;IACA,OAAOF,kBAAkB,CAACQ,QAAQ;EACtC;EAEA,MAAaC,YAAYA,CAACC,MAAc,EAAmB;IACvD,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAM,IAAI,CAACR,aAAa,CAACS,IAAI,CAAC,8BAA8B,EAAE;QAC3EF,MAAM,EAAEA,MAAM;QACdG,UAAU,EAAE;MAChB,CAAC,CAAC;MAEF,OAAOF,QAAQ,CAACG,IAAI,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,IAAI;IACxC,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACjD,MAAMA,KAAK;IACf;EACJ;AACJ;AAACE,MAAA,GArCKnB,kBAAkB;AAAlBA,kBAAkB,CACLQ,QAAQ;AAsC3B,eAAeR,kBAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}